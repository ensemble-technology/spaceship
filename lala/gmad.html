<!DOCTYPE html>
<html manifest="cache.manifest">
  <head>
    <meta charset="utf-8">
    <title>Anime UI</title>
    <!-- <meta name="viewport" content="width=device-width, user-scalable=0, minimal-ui"> -->
    <meta name="description" content="Anime UI â€” A-Frame">
    <script src="node_modules/aframe/dist/aframe.min.js"></script>
    <script src="node_modules/aframe-event-set-component/dist/aframe-event-set-component.js"></script>
    <script src="node_modules/aframe-mouse-cursor-component/dist/aframe-mouse-cursor-component.min.js"></script>
    <script src="node_modules/aframe-draw-component/dist/aframe-draw-component.min.js"></script>
    <script src="node_modules/aframe-textwrap-component/dist/aframe-textwrap-component.min.js"></script>
    <script src="node_modules/aframe-text-component/dist/aframe-text-component.min.js"></script>
    <script src="node_modules/aframe-html-shader/dist/aframe-html-shader.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="panel-dash" src="assets/details/dash.png">
        <img id="texts-and-details" src="assets/details/text-and-details-overlay.png">

        <img id="on-2" src="assets/hover/2.png">
        <img id="on-1" src="assets/hover/1.png">

        <img id="on-2-2" src="assets/hover/2-2.png">
        <img id="on-2-1" src="assets/hover/2-1.png">
        <img id="on-1-2" src="assets/hover/1-2.png">
        <img id="on-1-1" src="assets/hover/1-1.png">

        <!-- Buttons Hover -->
        <img id="hover-2-2-3" src="assets/hover/2-2-3.png">
        <img id="hover-2-2-2" src="assets/hover/2-2-2.png">
        <img id="hover-2-2-1" src="assets/hover/2-2-1.png">
        <img id="hover-2-1-3" src="assets/hover/2-1-3.png">
        <img id="hover-2-1-2" src="assets/hover/2-1-2.png">
        <img id="hover-2-1-1" src="assets/hover/2-1-1.png">
        <img id="hover-1-2-3" src="assets/hover/1-2-3.png">
        <img id="hover-1-2-2" src="assets/hover/1-2-2.png">
        <img id="hover-1-2-1" src="assets/hover/1-2-1.png">
        <img id="hover-1-1-3" src="assets/hover/1-1-3.png">
        <img id="hover-1-1-2" src="assets/hover/1-1-2.png">
        <img id="hover-1-1-1" src="assets/hover/1-1-1.png">

        <!-- Buttons Clickdown -->
        <img id="clickdown-2-2-3" src="assets/clickdown/2-2-3.png">
        <img id="clickdown-2-2-2" src="assets/clickdown/2-2-2.png">
        <img id="clickdown-2-2-1" src="assets/clickdown/2-2-1.png">
        <img id="clickdown-2-1-3" src="assets/clickdown/2-1-3.png">
        <img id="clickdown-2-1-2" src="assets/clickdown/2-1-2.png">
        <img id="clickdown-2-1-1" src="assets/clickdown/2-1-1.png">
        <img id="clickdown-1-2-3" src="assets/clickdown/1-2-3.png">
        <img id="clickdown-1-2-2" src="assets/clickdown/1-2-2.png">
        <img id="clickdown-1-2-1" src="assets/clickdown/1-2-1.png">
        <img id="clickdown-1-1-3" src="assets/clickdown/1-1-3.png">
        <img id="clickdown-1-1-2" src="assets/clickdown/1-1-2.png">
        <img id="clickdown-1-1-1" src="assets/clickdown/1-1-1.png">

      </a-assets>

      <a-camera position="0 0 0">
        <!-- <a-cursor color="#4CC3D9" fuse="true" timeout="600"></a-cursor> -->
        <a-entity cursor="fuse: true; timeout: 600"
          position="0 0 -1"
          geometry="primitive: ring; radius-inner: 0.03; radius-outer: 0.04;"
          material="color: red; shader: flat;">
          <!-- <a-animation begin="click" easing="linear" attribute="scale"
                       fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation> -->
          <a-animation begin="fusing" easing="linear" attribute="scale"
                       fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
          <a-animation begin="cursor-fusing" easing="linear" attribute="scale"
                       fill="forwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
        </a-entity>
      </a-camera>

      <!-- <a-entity id="plane-content" geometry="primitive:plane;width:5;height:3;" material="shader:html;target:#emoji;transparent:false;ratio:height;fps:0.3;side:double;" position="0 4 -3.5" rotation="10 0 0"></a-entity> -->

      <a-entity position="0 -1 7">
        <a-curvedimage src="#panel-dash" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="true"></a-curvedimage>
      </a-entity>

      <a-entity position="0 -1 7">
        <a-curvedimage src="#on-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
      </a-entity>

      <a-entity position="0 -1 7">
        <a-curvedimage src="#on-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
      </a-entity>

      <a-entity position="0 -1 7">
        <a-curvedimage src="#on-2-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
      </a-entity>

      <a-entity position="0 -1 7">
        <a-curvedimage src="#on-2-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
      </a-entity>

      <a-entity position="0 -1 7">
        <a-curvedimage src="#on-1-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
      </a-entity>

      <a-entity position="0 -1 7">
        <a-curvedimage src="#on-1-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
      </a-entity>


      <!-- First row  -->
      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-1-1-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-1-1-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="1-1-1"
        class="button-hitbox"
        color="#007aff"
        height="0.6" width="1.8"
        position="-2.8 0.9 -9.3"
        rotation="4 20 13"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-1-2-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-1-2-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="1-2-1"
        class="button-hitbox"
        color="#007aff"
        height="0.6" width="1.9"
        position="-1 1.2 -9.8"
        rotation="4 10 5"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-2-1-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-2-1-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="2-1-1"
        class="button-hitbox"
        color="#007aff"
        height="0.6" width="1.9"
        position="1 1.2 -9.8"
        rotation="4 -10 -5"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-2-2-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-2-2-1" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="2-2-1"
        class="button-hitbox"
        color="#007aff"
        height="0.6" width="1.8"
        position="2.8 0.9 -9.3"
        rotation="4 -20 -13"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <!-- Second row  -->
      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-1-1-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-1-1-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="1-1-2"
        class="button-hitbox"
        color="#007aff"
        height="0.5" width="1.5"
        position="-2.45 0.4 -9.3"
        rotation="4 20 13"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-1-2-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-1-2-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="1-2-2"
        class="button-hitbox"
        color="#007aff"
        height="0.5" width="1.4"
        position="-0.75 0.7 -9.3"
        rotation="4 10 5"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-2-1-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-2-1-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="2-1-2"
        class="button-hitbox"
        color="#007aff"
        height="0.5" width="1.4"
        position="0.75 0.7 -9.3"
        rotation="4 -10 -5"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-2-2-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-2-2-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="2-2-2"
        class="button-hitbox"
        color="#007aff"
        height="0.5" width="1.5"
        position="02.45 0.4 -9.3"
        rotation="4 -20 -13"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <!-- Third row  -->
      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-1-1-3" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-1-1-3" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="1-1-3"
        class="button-hitbox"
        color="#007aff"
        height="0.5" width="1.4"
        position="-2.25 -0.1 -9.3"
        rotation="4 20 13"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-1-2-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-1-2-3" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="1-2-3"
        class="button-hitbox"
        color="#007aff"
        height="0.45" width="1.3"
        position="-0.65 0.25 -9.3"
        rotation="4 10 5"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-2-1-2" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-2-1-3" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="2-1-3"
        class="button-hitbox"
        color="#007aff"
        height="0.45" width="1.3"
        position="0.65 0.25 -9.3"
        rotation="4 -10 -5"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7" toggleable>
        <a-curvedimage src="#hover-2-2-3" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-curvedimage src="#clickdown-2-2-3" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" visible="false"></a-curvedimage>
        <a-plane
        data-loc="2-2-3"
        class="button-hitbox"
        color="#007aff"
        height="0.5" width="1.4"
        position="2.25 -0.1 -9.3"
        rotation="4 -20 -13"
        opacity="0.4"
        transparent="true"
        ></a-plane>
      </a-entity>

      <a-entity position="0 -1 7">
        <a-curvedimage src="#texts-and-details" height="5" width="40" radius="10" theta-length="100" rotation="0 130 0" transparent="true"></a-curvedimage>
      </a-entity>

      <!-- Left wall  -->
      <!-- <a-plane
      color="#aaffee"
      height="0.7" width="3"
      position="-1.5 0.35 0"
      rotation="0 90 0"
      ></a-plane> -->

      <!-- Right wall  -->
      <!-- <a-plane
      color="#aaffee"
      height="0.7" width="3"
      position="1.5 0.35 0"
      rotation="0 -90 0"
      ></a-plane> -->

      <!-- Back wall  -->
      <!-- <a-plane
      color="#aaffee"
      height="1.5" width="3"
      position="0 0.75 1.5"
      rotation="0 180 0"
      ></a-plane> -->

      <!-- Front glass  -->
      <!-- <a-plane
      color="#ffaaee"
      height="3" width="3"
      position="0 2.25 -0.5"
      rotation="60 0 0"
      ></a-plane> -->

      <a-sky color="#e0e0e0"></a-sky>
    </a-scene>
    <script type="text/javascript">
      (function() {
        function generateTextWrapAttribute(string) {
          return "textAlign: center; x: 128; y: 128; text: " + string
        }

        // var toggleableOffEntities = document.querySelectorAll('.toggleable .off');
        // var toggleableOnEntities = document.querySelectorAll('.toggleable .on');
        //
        //
        // for (var i = 0; i < toggleableOffEntities.length; i++) {
        //   toggleableOffEntities[i].addEventListener('mouseenter', function() {
        //     this.setAttribute('visible', 'false');
        //     this.previousElementSibling.setAttribute('visible', 'true');
        //   });
        // }
        //
        // for (var i = 0; i < toggleableOnEntities.length; i++) {
        //   toggleableOnEntities[i].addEventListener('mouseleave', function() {
        //     this.setAttribute('visible', 'false');
        //     this.nextElementSibling.setAttribute('visible', 'true');
        //   });
        // }

        var selectedButton;

        var buttonHitboxes = document.querySelectorAll('[toggleable] .button-hitbox');
        for (var i = 0; i < buttonHitboxes.length; i++) {
          buttonHitboxes[i].addEventListener('click', function() {
            if (selectedButton !== undefined) {
              document.querySelector('[src="#on-' + selectedButton.slice(0, -4) + '"]').setAttribute('visible', 'false') // Hide active group
              document.querySelector('[src="#on-' + selectedButton.slice(0, -2) + '"]').setAttribute('visible', 'false') // Hide active sub-group
              document.querySelector('[src="#clickdown-' + selectedButton + '"]').setAttribute('visible', 'false') // Hide active button
            }

            document.querySelector('[src="#on-' + this.dataset.loc.slice(0,-4) + '"]').setAttribute('visible', 'true'); // Set new active group
            document.querySelector('[src="#on-' + this.dataset.loc.slice(0,-2) + '"]').setAttribute('visible', 'true'); // Set new active sub-group
            this.previousElementSibling.setAttribute('visible', 'true'); // Set clickdown on
            this.previousElementSibling.previousElementSibling.setAttribute('visible', 'false'); // Set hover state off
            selectedButton = this.dataset.loc; // Store the new selected button string on mem
          });

          buttonHitboxes[i].addEventListener('mouseenter', function() {
            if (selectedButton !== this.dataset.loc) {
              this.previousElementSibling.setAttribute('visible', 'false'); // Clickdown
              this.previousElementSibling.previousElementSibling.setAttribute('visible', 'true'); // Hover
              document.querySelector('[src="#on-' + this.dataset.loc.slice(0,-2) + '"]').setAttribute('visible', 'true');
              document.querySelector('[src="#on-' + this.dataset.loc.slice(0,-4) + '"]').setAttribute('visible', 'true');
            }
          });

          buttonHitboxes[i].addEventListener('mouseleave', function() {
            if (selectedButton !== this.dataset.loc) {
              this.previousElementSibling.setAttribute('visible', 'false'); // Clickdown
              this.previousElementSibling.previousElementSibling.setAttribute('visible', 'false'); // Hover
              document.querySelector('[src="#on-' + this.dataset.loc.slice(0,-2) + '"]').setAttribute('visible', 'false');
              document.querySelector('[src="#on-' + this.dataset.loc.slice(0,-4) + '"]').setAttribute('visible', 'false');
            }
          });
        }
      })();
    </script>
  </body>
</html>
